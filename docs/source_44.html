<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="Adobe GoLive">
		<title>The Reliques of Tolti-Aph - Source Text</title>
	</head>

	<body bgcolor="#ffffff">
		<table border="0" cellpadding="2"><tr><td align="left" valign="top"><font face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif"><a href="Cover.jpg"><img src="Small Cover.jpg" border="1"></a></font></td><td align="left" valign="top">
					<h3><font color="#0000cc" face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif">The Reliques of Tolti-Aph</font></h3>
					<h3><font size="-1" face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif">An interactive fiction by Graham Nelson (2005) - the Inform 7 source text</font></h3>
				</td></tr>
		<tr align="left" valign="top"><td align="left" valign="top"><font size="-1" face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif"><a href="index.html">Home page</a><br><br><a href="source.html">Contents</a><br><a href="source_43.html">Previous</a><br><a href="source_45.html">Next</a><br><br><a href="source.txt">Complete text</a></font></td><td align="left" valign="top"><font face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif"><b>Section E(q) - The seven artefacts</b>
<br>

<br>
<font color=#404040>[The artefacts are not unlike those found in &quot;Sorcerer's Cave&quot;, though all of the details are different. The Eye of God was differently cursed in the original: here it is dangerous to carry around, but one of the maze quests is exactly to carry it for a long way. Our version of the Ring is immensely powerful, but there is a catch: although the wearer becomes almost immortal on lower levels, he is likely to emerge back up to higher levels with dangerously low STR, so there is some danger of surviving a tussle with demons far below only to be knocked on the head by a gnome on level 1.
<br>
</font><font color=#404040>
<br>
</font><font color=#404040>No equivalent to the Divining Rod and the Enchanted Map exist in the original board game: nor could they, really, since the players could always see the entire labyrinth laid out on the floor.</font>]
<br>

<br>
An artefact is a kind of thing. An artefact is magical essence. An artefact has a number called minimum level. The minimum level of an artefact is usually 1. Every turn when the location is the Budless Grove and the player carries an artefact: say &quot;<font color=#000080>You barely notice the disappearance of [the list of artefacts carried by the player], returned by magic into the labyrinth.</font>&quot;; repeat with trinket running through artefacts carried by the player begin; return the trinket to the pack; end repeat.
<br>

<br>
Instead of inserting an artefact into something, say &quot;<font color=#000080>The artefacts of the maze may not be concealed in any way.</font>&quot;
<br>

<br>
The Charmed Flute is an artefact in Terra Incognita. &quot;<font color=#000080>The Charmed Flute, a precious artefact, lies discarded here.</font>&quot; The description is &quot;<font color=#000080>When played, the Charmed Flute soothes any hostile creatures (other than the undead) to quiescence: but the Flute may be played only once before vanishing again into the labyrinth.</font>&quot;
<br>

<br>
Musically playing is an action applying to one thing. Understand &quot;<font color=#000080>play [something held]</font>&quot; as musically playing. Check musically playing: if the noun is not the Charmed Flute, say &quot;<font color=#000080>That is not a musical instrument you know how to play.</font>&quot; instead.
<br>

<br>
Carry out musically playing:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if a hostile monster is in the location
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>As you play an unearthly lullaby on the Charmed Flute, it is as if you soothe [the list of hostile monsters in the location]. You are now free to walk peaceably here; but the Flute, its task performed, vanishes away.</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now all monsters in the location are indifferent;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the Charmed Flute to the pack;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>You play a short passacaglia to pass the time. But in the absence of hostile creatures, there is no effect beyond the soothing of your tired soul.</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if.
<br>

<br>
The Eye of God is an artefact in Terra Incognita. &quot;<font color=#000080>The Eye of God, a baleful green gemstone, glares up at you.</font>&quot; It has minimum level 3. The description is &quot;<font color=#000080>Cursed and yet precious, the Eye of God is the strangest of all the artefacts of the labyrinth.</font>&quot;
<br>

<br>
Rule for calculating combat modifiers of the player:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the player carries the Eye of God, modify to-hit roll by -2 for &quot;<font color=#000080>carrying the Eye of God</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;continue the activity.
<br>

<br>
The Ring of Power is an artefact in Terra Incognita. &quot;<font color=#000080>Discarded almost as if it were not the most puissant of all artefacts in the labyrinth is this Ring of Power.</font>&quot; It has minimum level 2. The description is &quot;<font color=#000080>On the third and lower levels of the labyrinth, the wearer of the Ring of Power is invulnerable from (most) harm inflicted by others when his or her STR falls below twice his or her own level.</font>&quot; The Ring of Power is wearable.
<br>

<br>
The Talisman is an artefact in Terra Incognita. &quot;<font color=#000080>Propped up in the centre of the space in front of you is the Talisman.</font>&quot; It has minimum level 2. The description is &quot;<font color=#000080>He who carries the Talisman will not be attacked by the undead.</font>&quot; Instead of wearing the Talisman, say &quot;<font color=#000080>This charm is carried, not worn.</font>&quot;
<br>

<br>
Every turn when the player carries the Talisman and an undead monster is in the location:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;now all undead monsters in the location are indifferent;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>The Talisman wards off attack from [the list of undead monsters in the location].</font>&quot;
<br>

<br>
For calculating damage modifiers of the player:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the threshold be the level of the player;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the threshold be the threshold multiplied by 2;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the putative strength be the strength of the player;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;decrease the putative strength by the damage incurred;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the player is wearing the Ring of Power and the current maze level is greater than 2 and the putative strength is less than the threshold
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>: the Ring of Power on your finger glows fire-red</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the largest safe amount be the strength of the player;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrease the largest safe amount by the threshold;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the largest safe amount is less than 0, let the largest safe amount be 0;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the damage incurred to the largest safe amount;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stop; <font color=#404040>[I.e., don't continue the activity: there's no point.</font>]
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;continue the activity.
<br>

<br>
The Magic Carpet is an artefact in Terra Incognita. &quot;<font color=#000080>Rolled up in front of you is the Magic Carpet.</font>&quot; It has minimum level 2. The description is &quot;<font color=#000080>A useful artefact of the labyrinth: it enables the mage, once only, to move one position in any direction (north, south, east, west, up or down) regardless of walls or hedges. (Type RIDE CARPET NORTH, or how may you.)</font>&quot;
<br>

<br>
Carpet-riding is an action applying to two visible things. Understand &quot;<font color=#000080>ride [something held] [direction]</font>&quot; as carpet-riding. Check carpet-riding: if the noun is not the Magic Carpet, say &quot;<font color=#000080>That's not something you can ride.</font>&quot; instead; if the second noun is not a direction, say &quot;<font color=#000080>That's not a direction you can take the carpet in.</font>&quot; instead.
<br>

<br>
Carry out carpet-riding:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the current position be the grid position of the location;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the new position be the vector sum of the current position and the vector of the second noun;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the new position is &lt;0,0,0&gt;, say &quot;<font color=#000080>The carpet is unable to take you that way, which would lie outwith the labyrinth.</font>&quot; instead;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the destination room be the room at the new position;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the novelty factor be 0;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the destination room is Solid Rock
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if a labyrinth room is acceptable
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the destination room be a random acceptable labyrinth room;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position the destination room at the new position;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the novelty factor be 1;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>The carpet is unable to take you that way, which would lie outwith the labyrinth.</font>&quot; instead;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;return the Magic Carpet to the pack;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>The Magic Carpet transports you one place [second noun] in the labyrinth, then melts away into air.</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the way be the second noun;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the reverse way be the opposite of the second noun;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the room the way from the location is Terra Incognita
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the room the reverse way from the destination room is Terra Incognita
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the way exit of the location to the destination room;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the reverse way exit of the destination room to the location;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the way exit of the location to Solid Rock;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the reverse way exit of the destination room to Solid Rock;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the novelty factor is 1, draw cards for the destination room;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;move the player to the destination room.
<br>

<br>
An artefact called the Divining Rod is in Terra Incognita. &quot;<font color=#000080>The Divining Rod, one of the artefacts of the Maze, lies before you.</font>&quot; The description is &quot;<font color=#000080>If waved, the divining rod will give the mage some idea of his location in the labyrinth.</font>&quot;
<br>

<br>
Instead of waving the Divining Rod:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>The Divining Rod senses that </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the location is the Hedge Archway, say &quot;<font color=#000080>you are in the Archway. Well, there's a surprise.</font>&quot; instead;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the current maze level is not 1, say &quot;<font color=#000080>you are below ground, in level [current maze level] of the labyrinth; </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the current position be the grid position of the location;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the budless position be the grid position of the Hedge Archway;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the eastward journey be the easting part of the current position;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;decrease the eastward journey by the easting part of the budless position;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the northward journey be the northing part of the current position;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;decrease the northward journey by the northing part of the budless position; 
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the westward journey be 0 minus the eastward journey;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the southward journey be 0 minus the northward journey;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the eastward journey is 0 and the northward journey is 0
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>you are vertically below the Archway, </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>you have travelled </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the eastward journey &gt; 0, say &quot;<font color=#000080>east by [eastward journey in words], </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the westward journey &gt; 0, say &quot;<font color=#000080>west by [westward journey in words], </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the northward journey &gt; 0, say &quot;<font color=#000080>north by [northward journey in words], </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the southward journey &gt; 0, say &quot;<font color=#000080>south by [southward journey in words], </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let the way out be the best route from the location to the Hedge Archway;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if the way out is a direction, say &quot;<font color=#000080>and it pulls your hand to the direction [way out].</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;<font color=#000080>and it shakes in your hand.</font>&quot;
<br>

<br>
The Enchanted Map is an artefact in Terra Incognita. &quot;<font color=#000080>The Enchanted Map, one of the artefacts of the Maze, lies here for you to find.</font>&quot;
<br>

<br>
To plot line (N - a number) of room (R - a room):
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if R is Solid Rock begin; say &quot;<font color=#000080>     </font>&quot;; stop; end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if R is unvisited begin; say &quot;<font color=#000080>:::::</font>&quot;; stop; end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if R is Earthquake-damaged begin; say &quot;<font color=#000080>#####</font>&quot;; stop; end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if R is the Island in the Deep Pool
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 1, say &quot;<font color=#000080>~~~~~</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 2, say &quot;<font color=#000080>~~O~~</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if N is 3, say &quot;<font color=#000080>~~~~~</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stop;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if N is 1
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R exits north, say &quot;<font color=#000080>  |</font>&quot;; otherwise say &quot;<font color=#000080>   </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R is ascending, say &quot;<font color=#000080>/ </font>&quot;; otherwise say &quot;<font color=#000080>  </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if N is 2
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R exits west, say &quot;<font color=#000080>-</font>&quot;; otherwise say &quot;<font color=#000080> </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say the map legend of R;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R exits east, say &quot;<font color=#000080>-</font>&quot;; otherwise say &quot;<font color=#000080> </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if N is 3
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R is descending, say &quot;<font color=#000080> /</font>&quot;; otherwise say &quot;<font color=#000080>  </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if R exits south, say &quot;<font color=#000080>|  </font>&quot;; otherwise say &quot;<font color=#000080>   </font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end if.
<br>

<br>
Instead of examining the Enchanted Map:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let grid ref be the grid position of the location;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if grid ref is &lt;0,0,0&gt;, stop;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;let L be the maze level part of the grid ref;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is 1, let the design be &quot;<font color=#000080>=-=-=</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is 2, let the design be &quot;<font color=#000080>-=-=-</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is 3, let the design be &quot;<font color=#000080>=+=+=</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is 4, let the design be &quot;<font color=#000080>=====</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is 5, let the design be &quot;<font color=#000080>=+o+=</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;if L is greater than 5, let the design be &quot;<font color=#000080>#####</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>[fixed letter spacing]+[design][design][design][design][design]+[line break]</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;repeat with dN running from -1 to 1
<br>
&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with stripe running from 1 to 3
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>#</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with dE running from -2 to 2
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let E be the easting part of the grid ref;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let N be the northing part of the grid ref;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let L be the maze level part of the grid ref;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let E be E plus dE;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let N be N minus dN;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the offset ref be the spatial coordinate with maze level part L easting part E northing part N;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the offset room be the room at the offset ref;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot line stripe of room offset room;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>#[line break]</font>&quot;;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;say &quot;<font color=#000080>+[design][design][design][design][design]+[line break][variable letter spacing][line break]</font>&quot;.
<br>

<br>
</font>
					<p><font size="-1" face="Trebuchet MS, Geneva, Arial, Helvetica, SunSans-Regular, sans-serif"></font></p>
					<p></p>
				</td></tr></table>
	</body>

</html>
